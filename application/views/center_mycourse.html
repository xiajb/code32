<div class="ucenter-right cf">
    <div class="mycourse-block">
        <div class="mycourse-tab-tit">
            <ul class="cf mycourse-tab-ul">
                <li class="active" id="pass"><a href="javascript:;" jktag="&amp;posOper=62012&amp;posArea=0003">我的课程</a></li>
            </ul>
        </div>
        <div class="mycourse-tab-body lesson-list" id="tab1">
            <?php if (!empty($result)): ?>
            <ul class="cf" id="home_my_fav">
                <?php foreach ($result as $row) :?>
                <li id="<?php echo $row['course_id']; ?>" test="0" deg="360" stop="1">
                    <div class="lessonimg-box">
                        <i class="user-action lesson-shoucang " style="display: none;" jktag="&amp;posGP=103001&amp;posArea=0003&amp;posOper=64013&amp;aCId=127&amp;posColumn=127.3"></i>
                        <!-- <i class="free-icon"></i> -->
                        <a href="http://www.qfdlqz.com/course/showcourse/<?php echo $row['course_id'] ?>" target="_blank" jktag="&amp;posGP=103001&amp;posArea=0003&amp;posOper=64014&amp;aCId=127&amp;posColumn=127.3">
                            <img src="<?php echo $row['course_id']; ?>" class="lessonimg" title="<?php echo $row['course_id']; ?>" alt="<?php echo $row['course_id']; ?>">
                            <div class="lessonplay" style="opacity: 0;">
                                <div class="cricle">
                                    <div class="mask" style="display: none;"></div>
                                    <div class="left" style="transform: rotate(360deg);">
                                        <div class="bg"></div>
                                    </div>
                                    <div class="cright" style="display: block;">
                                        <div class="bg"></div>
                                    </div>
                                    <div class="text">100%</div>
                                </div>
                            </div>
                        </a>
                        <div class="jd-line" style="display: block;">
                            <div class="green-line" style="width:238px"></div>
                        </div>
                    </div>
                    <div class="lesson-infor" style="height: 88px;">
                        <h2 class="lesson-info-h2"><a href="http://www.jikexueyuan.com/course/127.html" target="_blank" jktag="&amp;posGP=103001&amp;posArea=0003&amp;posOper=64014&amp;aCId=127&amp;posColumn=127.3"><?php echo $row['course_id']; ?></a></h2>
                        <div class="timeandicon">
                            <div class="cf">
                                <dl>
                                    <dd class="mar-b8"><i class="time-icon"></i><em>3课时
                            19分钟</em>
                                    </dd>
                                    <dd class="zhongji" style="display: none;">
                                        <i class="xinhao-icon"></i><em><?php echo $row['course_id']; ?></em>
                                    </dd>
                                </dl>
                                <em class="learn-number" style="display: none;">100511人学习</em>
                            </div>
                            <div class="cf">
                                <div class="lessonicon-box" style="bottom: 4px;">
                                    <a href="http://www.jikexueyuan.com/course/html5/">
                                        <img width="16" src="http://a1.jikexueyuan.com/home/201411/03/171a/54578ddd8e62a.png" alt="html5" title="HTML5" jktag="&amp;posGP=101001&amp;posArea=0003&amp;posOper=64015&amp;aCId=127&amp;posColumn=127.1&amp;aCCate=html5">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
                <?php endforeach;?>
            </ul>
<div id="list"> 
    <ul></ul> 
</div> 
<div id="pagecount"></div> 
<style type="text/css">
#list{width:680px; height:530px; margin:2px auto; position:relative} 
#list ul li{float:left;width:220px; height:260px; margin:2px} 
#list ul li img{width:220px; height:220px} 
#list ul li p{line-height:22px} 
#pagecount{width:500px; margin:10px auto; text-align:center} 
#pagecount span{margin:4px; font-size:14px} 
#list ul li#loading{width:120px; height:32px; border:1px solid #d3d3d3;  
position:absolute; top:35%; left:42%; text-align:center; background:#f7f7f7  
url(loading.gif) no-repeat 8px 8px;-moz-box-shadow:1px 1px 2px rgba(0,0,0,.2);  
-webkit-box-shadow:1px 1px 2px rgba(0,0,0,.2); box-shadow:1px 1px 2px rgba(0,0,0,.2);} 
</style>
<script type="text/javascript">
	var curPage = 1; //当前页码 
var total,pageSize,totalPage; //总记录数，每页显示数，总页数 
function getData(page){  
    $.ajax({ 
        type: 'POST', 
        url: '../../center/page', 
        data: {'pageNum':page-1}, 
        dataType:'json', 
        beforeSend:function(){ 
            $("#list ul").append("<li id='loading'>loading...</li>");//显示加载动画 
        }, 
        success:function(json){ 
            $("#list ul").empty();//清空数据区 
            total = json.total; //总记录数 
            pageSize = json.pageSize; //每页显示条数 
            curPage = page; //当前页 
            totalPage = json.totalPage; //总页数 
            var li = ""; 
            var list = json.list; 
            $.each(list,function(index,array){ //遍历json数据列 
                li += "<li><a href='#'><img src='"+array['pic']+"'>"+array['title'] 
                +"</a></li>"; 
            }); 
            $("#list ul").append(li); 
        }, 
        complete:function(){ //生成分页条 
            getPageBar(); 
        }, 
        error:function(){ 
            alert("数据加载失败"); 
        } 
    }); 
} 
function getPageBar(){ 
    //页码大于最大页数 
    if(curPage>totalPage) curPage=totalPage; 
    //页码小于1 
    if(curPage<1) curPage=1; 
    pageStr = "<span>共"+total+"条</span><span>"+curPage 
    +"/"+totalPage+"</span>"; 
     
    //如果是第一页 
    if(curPage==1){ 
        pageStr += "<span>首页</span><span>上一页</span>"; 
    }else{ 
        pageStr += "<span><a href='javascript:void(0)' rel='1'>首页</a></span><span><a href='javascript:void(0)' rel="+(curPage-1)+">上一页</a></span>"; 
    } 
     
    //如果是最后页 
    if(curPage>=totalPage){ 
        pageStr += "<span>下一页</span><span>尾页</span>"; 
    }else{ 
        pageStr += "<span><a href='javascript:void(0)' rel='"+(parseInt(curPage)+1)+"'>下一页</a></span><span><a href='javascript:void(0)' rel='"+totalPage+"'>尾页</a></span>"; 
    } 
         
    $("#pagecount").html(pageStr); 
} 
$(function(){ 
    getData(1); 
    $("#pagecount span a").live('click',function(){ 
        var rel = $(this).attr("rel"); 
        if(rel){ 
            getData(rel); 
        } 
    }); 
}); 

</script>
            <?php else: ?>
            <ul class="cf" id="home_my_fav">
                <div class="mar-t30 no-contnet-block">
                    <div class="no-contnet-box cf">
                        <div class="no-content-img">
                            <img src="http://s1.jikexueyuan.com/member/images/no-content_8a46981.png">
                        </div>
                        <div class="no-content-h3">
                            <p class="no-content-textbig">还没有收藏人的课程？</p>
                            <p class="no-content-text">点击视频播放器右侧的“收藏”按钮，即可将喜欢的课程收藏到这里再也不担心喜欢的课程找不到啦</p>
                        </div>
                    </div>
                </div>
            </ul>
            <?php endif; ?>
        </div>


            <div class=" pages tr">
                <ul id="pagination">

                </ul>
            </div>
            <div class="" style="clear:both"></div>
            <script type="text/javascript">
            //初始化分页
            window.onload = function() {
                    my_page = new open_pager("pagination");
                    my_page.showTotalTip = false;
                    my_page.pageSize = 2; //每页显示数
                    my_page.pageFuncName = "LoadPaging"; //回调函数名称
                    my_page.currentPage = 1; //当前页
                    my_page.totalRows = "<?php echo $total; ?>"; //总条数
                    // my_page.allowClone = true;
                    // my_page.cloneName = "Div_Clone_Page";
                    my_page.output();
                }
                //调用
            function LoadPaging(pg) {
                //通过get提交
                var _newurl = my_page.createUrl(pg);
                location.href = _newurl;
                // document.getElementById("form1").action = _newurl;
                // document.getElementById("form1").method = "post";
                // document.getElementById("form1").submit();
            }
            </script>
</div>
</div>
</div>
</div>
